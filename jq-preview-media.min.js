!function(){var e,t,i=function(){t=t||function(){};var i=this,r=$(e);if(r.length||(r=$(this).siblings("img,audio,video")),!r.length)return console.error("No target media element for preview!"),t.call(this);if(!this.files.length)return r.hasClass("jq-previewed")&&r.removeClass("jq-previewed").attr("src",r.data("oldSrc")),t.call(this);if("undefined"!=typeof window.FileReader){var n=new FileReader,a=window.URL||window.webkitURL;n.onload=function(){t&&"function"==typeof t&&t.call(i,this.result)},n.readAsDataURL(this.files[0]),r.data("oldSrc")||r.data("oldSrc",r.attr("src")),r.addClass("jq-previewed").attr("src",a.createObjectURL(this.files[0]))}else r.replaceWith("<strong>Your browser does not support media preview</strong>")};$.fn.previewMedia=function(r,n){e=r,t=n;var a=!1;return $.isPlainObject(r)?(e=r.target,r.callback&&(t=r.callback),a=!0):$.isFunction(r)&&(e=null,t=r),this.each(function(){var e=a?r.selector||'input[type="file"]':'input[type="file"]';a||"file"!==this.type?$(this).on("change",e,i):$(this).on("change",i)})}}(window);